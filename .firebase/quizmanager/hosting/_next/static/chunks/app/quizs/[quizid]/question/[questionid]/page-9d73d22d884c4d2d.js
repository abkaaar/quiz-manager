(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{2167:function(e,s,t){Promise.resolve().then(t.bind(t,5159))},5159:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(7437),n=t(2265),r=t(6463),i=t(9842),l=t(1746),c=t(933),u=t(2421),o=t(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),m=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),h=e=>{let{timeLimit:s,onTimeLimitChange:t,onSaveQuestion:r,isSaving:i}=e,[l,o]=(0,n.useState)(!1);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"bg-white p-2 border-b flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"mr-2 relative",children:[(0,a.jsxs)("button",{className:"flex items-center bg-white border rounded-md px-3 py-1 text-sm",onClick:()=>o(!l),children:[(0,a.jsx)(c.Z,{className:"mr-1 h-4 w-4"}),s," seconds",(0,a.jsx)(u.Z,{className:"ml-1 h-4 w-4"})]}),l&&(0,a.jsx)("div",{className:"absolute mt-1 w-32 bg-white rounded-md shadow-lg z-10 border",children:[15,30,45,60,90,120].map(e=>(0,a.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{t(e),o(!1)},children:[e," seconds"]},e))})]}),(0,a.jsxs)("button",{className:"".concat(i?"bg-purple-400":"bg-purple-600 hover:bg-purple-700"," text-white flex items-center px-4 py-1 rounded-md text-sm"),onClick:r,disabled:i,children:[(0,a.jsx)(d,{className:"mr-1 h-4 w-4"}),i?"Saving...":"Save question"]})]})})})},x=e=>{let{questionText:s,onQuestionTextChange:t}=e;return(0,a.jsxs)("div",{className:"bg-purple-900 rounded-lg p-4 min-h-64 relative",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("label",{className:"p-2 bg-purple-800 rounded-md hover:bg-purple-700 cursor-pointer inline-flex items-center",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-white mr-2"}),(0,a.jsx)("span",{className:"text-white",children:"Upload Image"}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{e.target.files&&e.target.files[0]&&console.log("Selected file:",e.target.files[0])}})]})}),(0,a.jsx)("textarea",{className:"bg-transparent text-white text-2xl min-h-48 resize-none focus:outline-none placeholder-opacity-60 w-full",placeholder:"Type question here",value:s,onChange:e=>t(e.target.value)})]})},p=e=>{let{quizId:s,onSave:t,isSaving:c}=e,u=(0,r.useRouter)(),[o,d]=(0,n.useState)(!1),[m,p]=(0,n.useState)(""),[g,f]=(0,n.useState)(""),[b,v]=(0,n.useState)(0),y=async()=>{if(!m.trim()||!g.trim()){alert("Please fill in the question and answer");return}let e=(0,i.IO)((0,i.hJ)(l.db,"questions"),(0,i.ar)("quizId","==",s)),t=(await (0,i.PL)(e)).size+1;try{let e={quizId:s,type:"question-and-answer",questionText:m,answer:g,timeLimit:b,questionNumber:t,createdAt:(0,i.Bt)()};d(!0),await (0,i.ET)((0,i.hJ)(l.db,"questions"),e);let a=(0,i.JU)(l.db,"quizzes",s),n=await (0,i.QT)(a);if(n.exists()){let e=n.data(),s=(null==e?void 0:e.questions)||0;await (0,i.r7)(a,{questions:s+1})}d(!1),u.push("/quizs/".concat(s))}catch(e){console.error("Failed to save question:",e),d(!1)}};return(0,a.jsxs)("div",{className:"bg-gray-100 min-h-screen",children:[(0,a.jsx)(h,{timeLimit:b,onTimeLimitChange:v,isRequired:!1,onIsRequiredChange:()=>{},onSaveQuestion:y,isSaving:o}),(0,a.jsxs)("div",{className:"max-w-5xl mx-auto mt-4",children:[(0,a.jsx)(x,{questionText:m,onQuestionTextChange:p}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 mt-4",children:[(0,a.jsx)("div",{className:"mb-2 text-gray-700 font-medium",children:"Answer:"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value),className:"flex-grow w-full p-2 border rounded-lg",placeholder:"Type answer here"})]})]})]})};var g=()=>{let e=(0,r.useRouter)(),s=(0,r.useParams)(),t=s.quizid,i=s.questionid,[l,c]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsxs)("div",{className:"p-2 bg-white border-b text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"mx-1",children:"Quizzes"})," /",(0,a.jsx)("span",{className:"mx-1",children:t})," /",(0,a.jsx)("span",{className:"mx-1",children:"Question"})," /",(0,a.jsx)("span",{className:"mx-1",children:i})]}),t&&i?(0,a.jsx)(p,{quizId:t,questionId:i,onSave:()=>{c(!0),setTimeout(()=>{c(!1),e.push("/quizs/".concat(t))},800)},isSaving:l}):(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Loading..."})})]})};function f(){return(0,a.jsx)(g,{})}},2421:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},933:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6463:function(e,s,t){"use strict";var a=t(1169);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},1746:function(e,s,t){"use strict";t.d(s,{I:function(){return c},db:function(){return u},t:function(){return o}});var a=t(5236),n=t(9842),r=t(9854),i=t(5735);let l=(0,a.ZF)({apiKey:"AIzaSyAbamSXF3gtcjvklagQzOuP6Pql0W93b_U",authDomain:"menyoo-fd4e3.firebaseapp.com",projectId:"menyoo-fd4e3",storageBucket:"menyoo-fd4e3.firebasestorage.app",messagingSenderId:"623426668693",appId:"1:623426668693:web:a2d40030d24b6bf129739c",measurementId:"G-SXZ5NMTMBC"}),c=(0,i.v0)(l),u=(0,n.ad)(l),o=(0,r.cF)(l)}},function(e){e.O(0,[657,358,722,4,971,23,744],function(){return e(e.s=2167)}),_N_E=e.O()}]);