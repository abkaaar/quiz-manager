(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{7998:function(e,a,s){Promise.resolve().then(s.bind(s,514))},514:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return S}});var t=s(7437),r=s(2265),i=s(6463),n=s(7440),l=s(495),d=s(5317),c=s(6941);let o=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(c.fC,{ref:a,className:(0,n.cn)("relative overflow-hidden",s),...i,children:[(0,t.jsx)(c.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(u,{}),(0,t.jsx)(c.Ns,{})]})});o.displayName=c.fC.displayName;let u=r.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...i}=e;return(0,t.jsx)(c.gb,{ref:a,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...i,children:(0,t.jsx)(c.q4,{className:"relative flex-1 rounded-full bg-border"})})});u.displayName=c.gb.displayName;var m=s(9338),f=s(2873),x=s(5137),h=s(2008),p=s(2421);let j=h.fC,b=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(h.ck,{ref:a,className:(0,n.cn)("border-b",s),...r})});b.displayName="AccordionItem";let N=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsx)(h.h4,{className:"flex",children:(0,t.jsxs)(h.xz,{ref:a,className:(0,n.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...i,children:[r,(0,t.jsx)(p.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});N.displayName=h.xz.displayName;let g=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsx)(h.VY,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,t.jsx)("div",{className:(0,n.cn)("pb-4 pt-0",s),children:r})})});g.displayName=h.VY.displayName;var v=s(6013),y=s(9842),z=s(1746);let w=()=>{let[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)(!1),d=(0,i.useParams)(),c=async()=>{if(!d.quizid)return alert("Quiz ID is missing.");if(!e)return alert("Please select a time.");try{n(!0);let a=(0,y.IO)((0,y.hJ)(z.db,"questions"),(0,y.ar)("quizId","==",d.quizid)),s=await (0,y.PL)(a);if(s.empty){alert("No questions found to update.");return}let t=(0,y.qs)(z.db);s.docs.forEach(a=>{let s=(0,y.JU)(z.db,"questions",a.id);t.update(s,{timeLimit:Number(e)})}),await t.commit(),alert("Time updated for all questions!")}catch(e){console.error("Error updating time:",e),alert("Failed to update time.")}finally{n(!1)}};return(0,t.jsxs)(v.Zb,{className:"mb-4",children:[(0,t.jsxs)(v.Ol,{className:"pb-2",children:[(0,t.jsx)(v.ll,{className:"text-sm font-medium",children:"Bulk Time Update"}),(0,t.jsx)(v.SZ,{children:"Update time for all questions at once"})]}),(0,t.jsx)(v.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,t.jsx)("div",{children:(0,t.jsxs)("select",{className:"w-full rounded border p-2 bg-white",value:e,onChange:e=>a(e.target.value),children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select time"}),(0,t.jsx)("option",{value:"30",children:"30 seconds"}),(0,t.jsx)("option",{value:"45",children:"45 seconds"}),(0,t.jsx)("option",{value:"60",children:"60 seconds"}),(0,t.jsx)("option",{value:"90",children:"90 seconds"}),(0,t.jsx)("option",{value:"120",children:"2 minutes"})]})})}),(0,t.jsx)(l.z,{className:"w-full",onClick:c,disabled:s,children:s?"Updating...":"Update Time"})]})})]})},q=()=>{let[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)(!1),d=(0,i.useParams)();(0,i.useRouter)(),(0,r.useEffect)(()=>{(async()=>{if(!d.quizid)return;let e=(0,y.JU)(z.db,"quizzes",Array.isArray(d.quizid)?d.quizid[0]:d.quizid),s=await (0,y.QT)(e);if(s.exists()){let e=s.data();e.introduction&&a(e.introduction)}})()},[d.quizid]);let c=async()=>{if(!d.quizid){alert("Quiz ID is missing.");return}try{n(!0),await (0,y.pl)((0,y.JU)(z.db,"quizzes",Array.isArray(d.quizid)?d.quizid[0]:d.quizid),{introduction:e},{merge:!0}),alert("Introduction saved!")}catch(e){console.error("Error:",e),alert("Failed to save introduction.")}finally{n(!1)}};return(0,t.jsxs)(v.Zb,{className:"mb-4",children:[(0,t.jsx)(v.Ol,{className:"pb-2",children:(0,t.jsx)(v.ll,{className:"text-sm font-medium",children:"Introduction"})}),(0,t.jsx)(v.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("textarea",{className:"w-full rounded border p-2 bg-white",placeholder:"Add or edit the introduction text here...",rows:4,value:e,onChange:e=>a(e.target.value)}),(0,t.jsx)(l.z,{className:"w-full",onClick:c,disabled:s,children:s?"Saving...":"Save Introduction"})]})})]})},k=()=>{let[e,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),o=(0,i.useParams)();(0,r.useEffect)(()=>{(async()=>{if(!o.quizid)return;let e=(0,y.JU)(z.db,"quizzes",Array.isArray(o.quizid)?o.quizid[0]:o.quizid),s=await (0,y.QT)(e);if(s.exists()){let e=s.data();e.rules&&Array.isArray(e.rules)&&a(e.rules)}})()},[o.quizid]);let u=async()=>{if(!o.quizid)return alert("Quiz ID missing.");try{c(!0),await (0,y.pl)((0,y.JU)(z.db,"quizzes",Array.isArray(o.quizid)?o.quizid[0]:o.quizid),{rules:e},{merge:!0}),alert("Rules saved!")}catch(e){console.error(e),alert("Failed to save rules.")}finally{c(!1)}},m=s=>{a(e.filter((e,a)=>a!==s))};return(0,t.jsxs)(v.Zb,{className:"mb-4",children:[(0,t.jsxs)(v.Ol,{className:"pb-2",children:[(0,t.jsx)(v.ll,{className:"text-sm font-medium",children:"Rules"}),(0,t.jsx)(v.SZ,{children:"Set the rules for the competition"})]}),(0,t.jsx)(v.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",className:"w-full rounded border p-2 bg-white",placeholder:"Write a rule...",value:s,onChange:e=>n(e.target.value)}),(0,t.jsx)(l.z,{className:"w-full",onClick:()=>{s.trim()&&(a([...e,s.trim()]),n(""))},children:"Add Rule"}),(0,t.jsx)("ul",{className:"space-y-1",children:e.map((e,a)=>(0,t.jsxs)("li",{className:"flex items-center justify-between border p-2 rounded",children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>m(a),children:"✕"})]},a))}),(0,t.jsx)(l.z,{className:"w-full mt-2",onClick:u,disabled:d,children:d?"Saving...":"Save Rules"})]})})]})},C=()=>{let[e,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),o=(0,i.useParams)();(0,r.useEffect)(()=>{(async()=>{if(!o.quizid)return;let e=(0,y.JU)(z.db,"quizzes",Array.isArray(o.quizid)?o.quizid[0]:o.quizid),s=await (0,y.QT)(e);if(s.exists()){let e=s.data();e.participants&&Array.isArray(e.participants)&&a(e.participants)}})()},[o.quizid]);let u=async()=>{if(!o.quizid)return alert("Quiz ID missing.");try{c(!0),await (0,y.pl)((0,y.JU)(z.db,"quizzes",Array.isArray(o.quizid)?o.quizid[0]:o.quizid),{participants:e},{merge:!0}),alert("Participant saved!")}catch(e){console.error(e),alert("Failed to save rules.")}finally{c(!1)}},m=s=>{a(e.filter((e,a)=>a!==s))};return(0,t.jsxs)(v.Zb,{className:"mb-4",children:[(0,t.jsxs)(v.Ol,{className:"pb-2",children:[(0,t.jsx)(v.ll,{className:"text-sm font-medium",children:"Participant"}),(0,t.jsx)(v.SZ,{children:"Set the participant for the competition"})]}),(0,t.jsx)(v.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",className:"w-full rounded border p-2 bg-white",placeholder:"Write a rule...",value:s,onChange:e=>n(e.target.value)})}),(0,t.jsx)("div",{children:(0,t.jsx)(l.z,{className:"w-full",onClick:()=>{s.trim()&&(a([...e,s.trim()]),n(""))},children:"Add Participant"})}),(0,t.jsx)("ul",{className:"space-y-1",children:e.map((e,a)=>(0,t.jsxs)("li",{className:"flex items-center justify-between border p-2 rounded",children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>m(a),children:"✕"})]},a))}),(0,t.jsx)(l.z,{className:"w-full mt-2",onClick:u,disabled:d,children:d?"Saving...":"Save Participant"})]})})]})};function S(e){let{children:a}=e;(0,i.usePathname)();let s=(0,i.useRouter)(),[c,u]=(0,r.useState)(!0);return(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsxs)("aside",{className:(0,n.cn)("fixed hidden h-full border-r bg-background transition-all duration-300 md:block z-10",c?"w-80":"w-16"),children:[(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[c?(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>s.back(),className:"mr-2 underline",children:"Back"})}):(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>s.back(),className:"mr-2",children:"Back"}),(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>u(!c),className:"h-8 w-8 bg-emerald-500 text-white rounded-full",children:c?"←":"→"})]}),(0,t.jsx)(o,{className:"h-[calc(100vh-4rem)]",children:c?(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(w,{}),(0,t.jsx)(q,{}),(0,t.jsx)(k,{}),(0,t.jsx)(C,{})]}):(0,t.jsx)("nav",{className:"flex flex-col items-center gap-4 p-2",children:(0,t.jsx)(l.z,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Bulk Operations",children:(0,t.jsx)(m.Z,{className:"h-4 w-4"})})})})]}),(0,t.jsxs)(d.yo,{children:[(0,t.jsx)(d.aM,{asChild:!0,children:(0,t.jsx)(l.z,{variant:"outline",size:"icon",className:"md:hidden fixed left-4 top-4 z-40",children:(0,t.jsx)(f.Z,{className:"h-5 w-5"})})}),(0,t.jsxs)(d.ue,{side:"left",className:"w-80 p-0",children:[(0,t.jsxs)("div",{className:"flex h-16 items-center border-b px-4",children:[(0,t.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>s.back(),className:"mr-2",children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"font-medium",children:"Quiz Editor"})]}),(0,t.jsx)(o,{className:"h-[calc(100vh-4rem)]",children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(j,{type:"single",collapsible:!0,className:"w-full",children:(0,t.jsxs)(b,{value:"bulk-update",children:[(0,t.jsx)(N,{className:"py-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Bulk Operations"})]})}),(0,t.jsx)(g,{children:(0,t.jsx)(w,{})})]})})})})]})]}),(0,t.jsx)("main",{className:(0,n.cn)("flex-1 transition-all duration-300 md:ml-16",c&&"md:ml-80"),children:(0,t.jsx)("div",{className:" py-8",children:a})})]})}},495:function(e,a,s){"use strict";s.d(a,{d:function(){return d},z:function(){return c}});var t=s(7437),r=s(2265),i=s(3355),n=s(3027),l=s(7440);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:c=!1,...o}=e,u=c?i.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:r,size:n,className:s})),ref:a,...o})});c.displayName="Button"},6013:function(e,a,s){"use strict";s.d(a,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return n},aY:function(){return o},eW:function(){return u},ll:function(){return d}});var t=s(7437),r=s(2265),i=s(7440);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},5317:function(e,a,s){"use strict";s.d(a,{aM:function(){return o},sw:function(){return u},ue:function(){return h},yo:function(){return c}});var t=s(7437),r=s(2265),i=s(7074),n=s(3027),l=s(4697),d=s(7440);let c=i.fC,o=i.xz,u=i.x8,m=i.h_,f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});f.displayName=i.aV.displayName;let x=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef((e,a)=>{let{side:s="right",className:r,children:n,...c}=e;return(0,t.jsxs)(m,{children:[(0,t.jsx)(f,{}),(0,t.jsxs)(i.VY,{ref:a,className:(0,d.cn)(x({side:s}),r),...c,children:[n,(0,t.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=i.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...r})}).displayName=i.Dx.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",s),...r})}).displayName=i.dk.displayName},7440:function(e,a,s){"use strict";s.d(a,{cn:function(){return i}});var t=s(4839),r=s(6164);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.m6)((0,t.W)(a))}},1746:function(e,a,s){"use strict";s.d(a,{I:function(){return d},db:function(){return c},t:function(){return o}});var t=s(5236),r=s(9842),i=s(9854),n=s(5735);let l=(0,t.ZF)({apiKey:"AIzaSyAbamSXF3gtcjvklagQzOuP6Pql0W93b_U",authDomain:"menyoo-fd4e3.firebaseapp.com",projectId:"menyoo-fd4e3",storageBucket:"menyoo-fd4e3.firebasestorage.app",messagingSenderId:"623426668693",appId:"1:623426668693:web:a2d40030d24b6bf129739c",measurementId:"G-SXZ5NMTMBC"}),d=(0,n.v0)(l),c=(0,r.ad)(l),o=(0,i.cF)(l)}},function(e){e.O(0,[657,358,722,482,4,132,105,971,23,744],function(){return e(e.s=7998)}),_N_E=e.O()}]);